# 参数提取

## 定义

参数提取功能利用大语言模型(LLM)从自然语言中推理并提取结构化参数，主要用于以下场景：
- 为工具调用提供结构化输入参数
- 为HTTP请求准备参数数据

Dify工作流提供了丰富的[工具集](https://docs.dify.ai/v/zh-hans/guides/tools)，大多数工具需要结构化参数输入。参数提取器能够将用户的自然语言转换为工具可识别的参数格式。

此外，某些特定节点（如[迭代节点](iteration.md#id-1-ding-yi)）对输入数据格式有严格要求，参数提取器可以方便地完成[结构化参数转换](iteration.md#id-2-chang-jing)。

<-- 这里需要一张展示参数提取节点在流程中位置的示意图 -->
![参数提取节点示意图](path/to/parameter-extraction-node.png)

***

## 应用场景

### 场景1：工具参数提取
**典型应用**：构建对话式Arxiv论文检索应用

**实现方式**：
1. Arxiv论文检索工具需要结构化参数（作者或论文编号）
2. 从用户问题"这篇论文中讲了什么内容：2405.10739"中提取论文编号
3. 将提取的编号2405.10739作为工具参数进行精确查询

<-- 这里需要一张展示Arxiv论文检索工具工作流程的示意图 -->
![Arxiv论文检索流程](path/to/arxiv-tool-example.png)

### 场景2：文本结构化转换
**典型应用**：长故事迭代生成应用

**实现方式**：
1. 将文本格式的章节内容转换为数组格式
2. 作为[迭代节点](iteration.md)的前置处理步骤
3. 方便迭代节点进行多轮内容生成

<-- 这里需要一张展示文本结构化转换流程的示意图 -->
![文本结构化转换流程](path/to/text-structuring-example.png)

### 场景3：HTTP请求参数准备
**典型应用**：
- 获取外部检索结果
- Webhook调用
- 生成图片等场景

***

## 配置指南

### 基础配置
1. **输入变量**：选择用于参数提取的变量（支持文件类型）
2. **模型选择**：选择用于参数提取的LLM模型
3. **参数定义**：
   - 手动添加需要提取的参数
   - 支持从已有工具中快捷导入
4. **指令编写**：复杂参数提取时可提供示例提升效果

<-- 这里需要一张清晰的参数提取配置界面截图 -->
![参数提取配置界面](path/to/parameter-config-ui.png)

### 高级设置
#### 推理模式
支持两种推理方式：
- **函数/工具调用**：结构化程度高
- **提示词推理**：灵活性更强

#### 记忆功能
开启后包含聊天历史，提升上下文理解能力

#### 图片处理
支持图片内容分析提取

### 输出变量
| 变量名 | 类型 | 说明 |
|--------|------|------|
| 提取的参数 | 自定义 | 根据配置提取的参数 |
| __is_success | Number | 提取结果标识(1成功/0失败) |
| __reason | String | 失败原因说明 |
```
```